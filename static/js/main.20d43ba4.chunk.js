(this["webpackJsonpclass-26-solution"]=this["webpackJsonpclass-26-solution"]||[]).push([[0],{1084:function(e,t,a){},1085:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),l=a(6),s=a(5),o=a(0),c=a.n(o),i=a(23),u=a.n(i),h=a(11),d=(a(30),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"RESTy"),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(h.b,{to:"/resty/"},"Home")),c.a.createElement("li",null,c.a.createElement(h.c,{to:"/resty/history"},"History")))))}}]),a}(c.a.Component)),m=a(1),p=a(15),f=a(14),E=a.n(f),v=function(e){return c.a.createElement("li",null,c.a.createElement("p",null,e.data.method),c.a.createElement("p",null,e.data.url),c.a.createElement(E.a,{src:e.data.result}))},b=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={rest:JSON.parse(localStorage.getItem("history"))},r}return Object(r.a)(a,[{key:"render",value:function(){console.log("homeHistory-----\x3e",this.state.rest);for(var e=[],t=0,a=Object.entries(this.state.rest);t<a.length;t++){var n=Object(p.a)(a[t],2),r=n[0],l=n[1];l.id=r,e.push(l)}return console.log("homeHistory arr-----\x3e",e),c.a.createElement(c.a.Fragment,null,c.a.createElement("aside",null,c.a.createElement("ul",null,e.map((function(e,t){return c.a.createElement(v,{key:e.id,data:e})})))))}}]),a}(c.a.Component),g=a(13),y=a.n(g),O=a(19),j=(a(1084),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null}),C=function(e){return c.a.Children.map(e.children,(function(t){return c.a.cloneElement(t,{condition:e.condition})}))},k=function(e){return j(e.condition,e.children)},x=function(e){return j(!e.condition,e.children)},S=a(37),N=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).activeModal=function(){switch(r.state.method){case"get":case"delete":r.setState({active:!1});break;case"put":case"post":r.setState({active:!0})}},r.handleSubmit=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n,l,s,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.state.url||!r.state.method){e.next=36;break}return a={url:r.state.url,method:r.state.method},t.target.reset(),e.prev=4,e.next=7,fetch(r.state.url,{method:r.state.method||"GET",body:"get"==r.state.method||"delete"==r.state.method?null:JSON.stringify(r.state.body),headers:{"Content-Type":"application/json"}});case 7:return n=e.sent,e.next=10,n.headers.forEach((function(e){l={"Content-Type":e}}));case 10:return console.log(l),e.next=13,n.json();case 13:return s=e.sent,console.log("from fetch -----\x3e",s),o=JSON.parse(localStorage.getItem("history"))||{},console.log("old history-----\x3e",o),e.next=19,S.random.uuid();case 19:c=e.sent,console.log("id -----------\x3e",c),o[c]={method:r.state.method,url:r.state.url,header:l,result:s},console.log("local in form -----\x3e",o),localStorage.setItem("history",JSON.stringify(o)),r.props.handler({data:s,header:l}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),console.log("error in fetch-----------\x3e",e.t0),r.props.handler({e:e.t0});case 31:"","",r.setState({request:a,url:"",method:""}),e.next=37;break;case 36:alert("missing information");case 37:case"end":return e.stop()}}),e,null,[[4,27]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChangeURL=function(e){var t=e.target.value;r.setState({url:t})},r.handleChangeMethod=function(){var e=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.id,e.next=3,r.setState({method:a});case 3:r.activeModal();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleChangeBody=function(e){var t=e.target.value;r.setState({body:t})},r.state={url:"",method:"get",request:{},active:!1,body:""},r}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(console.log("this.props.selectedId",this.props.selectedId),this.props.selectedId){var t=JSON.parse(localStorage.getItem("history"));console.log("oldHistory-------------\x3e",t),this.setState({url:t[this.props.selectedId].url,method:t[this.props.selectedId].method})}}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("label",null,c.a.createElement("span",null,"URL: "),c.a.createElement("input",{name:"url",type:"text",onChange:this.handleChangeURL,value:this.state.url}),c.a.createElement("button",{type:"submit"},"GO!")),c.a.createElement("label",{className:"methods"},c.a.createElement("span",{className:"get"===this.state.method?"active":"",id:"get",onClick:this.handleChangeMethod},"GET"),c.a.createElement("span",{className:"post"===this.state.method?"active":"",id:"post",onClick:this.handleChangeMethod},"POST"),c.a.createElement("span",{className:"put"===this.state.method?"active":"",id:"put",onClick:this.handleChangeMethod},"PUT"),c.a.createElement("span",{className:"delete"===this.state.method?"active":"",id:"delete",onClick:this.handleChangeMethod},"DELETE"))),c.a.createElement(C,{condition:this.state.active},c.a.createElement(k,null,c.a.createElement("div",{id:"body"},c.a.createElement("textarea",{placeholder:"Raw JSON Body",name:"requestBody",spellCheck:"false",onChange:this.handleChangeBody},this.state.body))),c.a.createElement(x,null,c.a.createElement("div",{id:"body"},c.a.createElement("textarea",{placeholder:"Raw JSON Body",name:"requestBody",spellCheck:"false",disabled:!0},this.state.body)))),c.a.createElement("section",{className:"results"},c.a.createElement("span",{className:"method"},this.state.request.method),c.a.createElement("span",{className:"url"},this.state.request.url)))}}]),a}(c.a.Component);var I=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={request:{}},r}return Object(r.a)(a,[{key:"render",value:function(){return console.log("inside results",this.props.results),c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"results"},c.a.createElement(E.a,{src:this.props.results})))}}]),a}(c.a.Component),w=function(e){return c.a.createElement("li",{onClick:function(t){var a=t.target.id;e.handler({id:a})},id:e.data.id},c.a.createElement("p",null,e.data.method),c.a.createElement("p",null,e.data.url))},H=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleRest=function(e){console.log("click on rest api -----\x3e",e),r.props.handler(e.id)},r.state={rest:JSON.parse(localStorage.getItem("history"))||{}},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this;console.log("homeHistory-----\x3e",this.state.rest);for(var t=[],a=0,n=Object.entries(this.state.rest);a<n.length;a++){var r=Object(p.a)(n[a],2),l=r[0],s=r[1];s.id=l,t.push(s)}return console.log("homeHistory arr-----\x3e",t),c.a.createElement(c.a.Fragment,null,c.a.createElement("aside",null,c.a.createElement("ul",null,t.map((function(t,a){return c.a.createElement(w,{key:t.id,data:t,handler:e.handleRest})})))))}}]),a}(c.a.Component),J=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleForm=function(e){console.log("hi from app",e),console.log("hi from app======>e",e.e),r.setState({results:e.e||{Header:e.header,count:e.data.count,results:e.data}})},r.handleHistory=function(e){console.log(" home click on rest api -----\x3e",e),r.setState({selectedId:e})},r.state={results:[],count:0,selectedId:""},r}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,{handler:this.handleForm,selectedId:this.state.selectedId}),c.a.createElement(I,{results:this.state.results}),c.a.createElement(H,{handler:this.handleHistory}))}}]),a}(c.a.Component),F=function(e){return c.a.createElement("main",null,c.a.createElement(m.a,{exact:!0,path:"/resty/"},c.a.createElement(J,null)),c.a.createElement(m.a,{exact:!0,path:"/resty/history"},c.a.createElement(b,null)))},R=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("footer",null,"\xa9 2018 Code Fellows")}}]),a}(c.a.Component);var T=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,null),c.a.createElement(F,null),c.a.createElement(R,null))},q=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement(T,null),";")}}]),a}(c.a.Component),B=document.getElementById("root");u.a.render(c.a.createElement(q,null),B)},25:function(e,t,a){e.exports=a(1085)},30:function(e,t,a){}},[[25,1,2]]]);
//# sourceMappingURL=main.20d43ba4.chunk.js.map